(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/preOrder"],{1843:function(e,r,t){"use strict";(function(e,r){var n=t("4ea4");t("0d97");n(t("66fd"));var i=n(t("a1c2"));e.__webpack_require_UNI_MP_PLUGIN__=t,r(i.default)}).call(this,t("bc2e")["default"],t("543d")["createPage"])},"29ea":function(e,r,t){"use strict";t.d(r,"b",(function(){return i})),t.d(r,"c",(function(){return a})),t.d(r,"a",(function(){return n}));var n={uIcon:function(){return t.e("uview-ui/components/u-icon/u-icon").then(t.bind(null,"9e33"))},uReadMore:function(){return t.e("uview-ui/components/u-read-more/u-read-more").then(t.bind(null,"41cf"))},uInput:function(){return Promise.all([t.e("common/vendor"),t.e("uview-ui/components/u-input/u-input")]).then(t.bind(null,"8eef"))}},i=function(){var e=this.$createElement;this._self._c},a=[]},4836:function(e,r,t){"use strict";(function(e){var n=t("4ea4");Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(t("588f")),a={data:function(){return{type:"textarea",border:!1,height:100,autoHeight:!0,shadowStyle:{backgroundImage:"none",paddingTop:"20rpx"},goodsList:[],totalPrice:0,mallOrder:{receiver:"",receiverPhone:"",receiverAddress:"",payAmount:0,payStatus:1,disAmount:0,orderStatus:1,remark:"",mallOrderGoodsList:[]}}},onLoad:function(e){var r=this;this.checkToken(),e.addressId?(this.mallOrder.receiverAddress=e.addressName,this.mallOrder.receiverPhone=e.phone,this.mallOrder.receiver=e.userName):this.setDefaultAddress(),this.goodsList=this.vuex_cartList.reverse(),this.goodsList.map((function(e,t){r.goodsList[t].check&&(r.totalPrice=r.totalPrice+r.goodsList[t].value*r.goodsList[t].price)})),this.mallOrder.payAmount=this.totalPrice},methods:{checkToken:function(){var r=e.getStorageSync("lifeData"),t=r.vuex_token;if(!t)return e.reLaunch({url:"../login/login"});this.myavatar=i.default.baseUrl+e.getStorageSync("lifeData").vuex_user.user.avatar},subOrder:function(){var e=this;if(!this.mallOrder.receiverAddress)return this.$mytip.toast("请选择收货地址");this.mallOrder.mallOrderGoodsList=this.goodsList;this.$u.post("/api/mallApi/insertMallOrder",this.mallOrder).then((function(r){e.$u.route("/pages/order/order")}))},selectAddress:function(){this.$u.route("/pages/address/address")},setDefaultAddress:function(){var e=this;this.$u.get("/api/mallApi/findAddressList",{orderByColumn:"create_time",isAsc:"desc",pageNum:1,pageSize:100,isDefault:1}).then((function(r){var t=r.rows[0];e.mallOrder.receiverAddress=t.address,e.mallOrder.receiverPhone=t.phone,e.mallOrder.receiver=t.userName}))}}};r.default=a}).call(this,t("543d")["default"])},"749d":function(e,r,t){"use strict";t.r(r);var n=t("4836"),i=t.n(n);for(var a in n)["default"].indexOf(a)<0&&function(e){t.d(r,e,(function(){return n[e]}))}(a);r["default"]=i.a},a1c2:function(e,r,t){"use strict";t.r(r);var n=t("29ea"),i=t("749d");for(var a in i)["default"].indexOf(a)<0&&function(e){t.d(r,e,(function(){return i[e]}))}(a);t("c034");var s=t("f0c5"),o=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);r["default"]=o.exports},abf3:function(e,r,t){},c034:function(e,r,t){"use strict";var n=t("abf3"),i=t.n(n);i.a}},[["1843","common/runtime","common/vendor"]]]);